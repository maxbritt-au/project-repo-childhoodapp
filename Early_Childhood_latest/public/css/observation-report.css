@import url(./report-shared.css);
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap');

:root{
  --bg-image: url('../img/ECA_Background-2(Nes).jpg');
  --bg-overlay: rgba(252,246,233,.95);

  --text-primary: #000;
  --text-secondary: #333;
  --muted: #7a7a7a;

  --glass-bg: rgba(255,255,240,.4);
  --glass-border: rgba(255,255,240,.5);
  --glass-solid: rgba(255,255,255,.86);

  --accent: #5c6bc0;
  --accent-hover: #4b5ab0;

  --shadow-subtle: 0 4px 15px rgba(0,0,0,.08);
  --shadow-hover: 0 8px 25px rgba(0,0,0,.12);
  --toggle-track: #b0b0b0;
  --toggle-thumb: #fff;
  --toggle-icon: #333;

  --dropdown-bg: #fff;
}

body.dark-mode{
  --bg-image: url('../img/ECA_Background-3(Nes).jpg');
  --bg-overlay: rgba(20,20,20,.9);

  --text-primary: #f5f5f5;
  --text-secondary: #b0b0b0;
  --muted: #9a9a9a;

  --glass-bg: rgba(40,40,40,.6);
  --glass-border: rgba(255,255,255,.2);
  --glass-solid: rgba(28,28,28,.9);

  --accent: #81c784;
  --accent-hover: #6cb06c;

  --shadow-subtle: 0 4px 15px rgba(0,0,0,.2);
  --shadow-hover: 0 8px 25px rgba(0,0,0,.3);
  --toggle-track: #555;
  --toggle-thumb: #333;
  --toggle-icon: #fff;

  --dropdown-bg: #222;
}

html,body{
  margin:0; padding:0; min-height:100vh;
  font-family:'Poppins',sans-serif;
  color:var(--text-primary);
  background-image:var(--bg-image);
  background-position:center; background-repeat:no-repeat; background-size:cover;
  position:relative;
  display:flex; flex-direction:column;
}
body::before{
  content:""; position:fixed; inset:0;
  background:var(--bg-overlay);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index:-1;
}

.dashboard-container{display:flex; flex-direction:column; min-height:100vh;}
.main-content{
  max-width:1100px; width:100%; margin:32px auto; padding:0 20px;
  display:flex; flex-direction:column; gap:22px
}

.navbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 40px;
  background: var(--glass-bg);
  border-bottom:1px solid var(--glass-border);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: var(--shadow-subtle);
  position:sticky; top:0; z-index:5;
}
.navbar-left,.navbar-center{display:flex; align-items:center; gap:20px}
.navbar-right {
  display: flex;
  align-items: center;
  gap: 15px;
}
.navbar-left .logo{
  width:45px; height:auto; border-radius:50%; object-fit:cover;
  box-shadow:0 2px 10px rgba(0,0,0,.1)
}
.navbar-center{flex:1; justify-content:center}
.nav-links{display:flex; list-style:none; gap:25px; margin:0; padding:0}
.nav-links a{
  text-decoration:none; color:var(--text-secondary);
  padding:8px 15px; border-radius:20px; font-weight:500; transition: all .3s ease;
}
.nav-links a:hover{background:var(--glass-border); color:var(--text-primary)}
.nav-links a.active{background:var(--accent); color:#fff; font-weight:600}
.nav-links a.active:hover{background:var(--accent-hover)}

.logout-link{
  border:1px solid transparent; background:transparent; color:var(--text-secondary);
  padding:8px 15px; border-radius:20px; cursor:pointer; font-weight:500; transition: all .3s ease;
  font-weight: 500;
  color: var(--text-secondary);
}
.logout-link:hover{background:var(--glass-border); color:var(--text-primary)}

.theme-icon {
  font-size: 20px;
  color: var(--toggle-icon);
  transition: opacity .3s ease;
  opacity: 0.5;
}
body.light-mode .sun-icon, body.dark-mode .moon-icon {
  opacity: 1;
}

.theme-switch{
  position:relative; display:inline-block; width:50px; height:28px;
}
.theme-switch input{
  opacity:0; width:0; height:0;
}
.theme-switch .slider{
  position:absolute; cursor:pointer; inset:0;
  background:var(--toggle-track); transition:.4s; border-radius:28px;
}
.theme-switch .slider:before{
  position:absolute; content:""; height:20px; width:20px; left:4px; bottom:4px;
  background:var(--glass-solid); transition:.4s; border-radius:50%;
}
input:checked + .slider:before{
  transform:translateX(22px);
}

.card{
  background: var(--glass-bg);
  border:1px solid var(--glass-border);
  border-radius:20px;
  box-shadow: var(--shadow-subtle);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transition: transform .3s ease, box-shadow .3s ease;
  padding:25px
}
.card:hover{transform:translateY(-5px); box-shadow:var(--shadow-hover)}

.report-header{
  display:flex; flex-direction:column; padding:25px;
  margin-top:24px;
  transition: transform .3s ease, box-shadow .3s ease;
}
.report-header:hover{
  transform: translateY(-5px);
  box-shadow: var(--shadow-hover);
}
.report-header h1{
  margin:0 0 6px; font:700 28px/1.2 'Montserrat',sans-serif;
  display:flex; align-items:center;
}
.report-header h1 .report-icon{
  font-size:32px; color:var(--accent); margin-right:12px;
}
.report-header .help{
  margin:0; color:var(--text-secondary); font-size:16px; font-weight:500;
}
h3{font:600 20px/1.2 'Montserrat',sans-serif; margin:0 0 15px}

.report-form{display:flex; flex-direction:column; gap:22px; margin-bottom:40px;}
.form-section{display:flex; flex-direction:column; gap:12px;}
.form-grid{display:grid; grid-template-columns:1fr 1fr; gap:30px; align-items: flex-start;}
@media (max-width: 768px) {
    .form-grid{grid-template-columns:1fr;}
}

label{display:block; font-weight:600; margin-bottom:6px;}
input[type="text"], input[type="date"], textarea, select{
  width:100%; padding:12px; border:1px solid var(--glass-border);
  border-radius:15px; background:var(--glass-bg);
  box-shadow: inset 0 2px 4px rgba(0,0,0,.06);
  color:var(--text-primary);
  transition:all .3s ease;
  height: 48px;
  box-sizing: border-box;
}
body.dark-mode input[type="text"], body.dark-mode input[type="date"], body.dark-mode textarea, body.dark-mode select{
  box-shadow: inset 0 2px 4px rgba(255,255,255,.05);
}
input[type="text"]::placeholder, input[type="date"]::placeholder, textarea::placeholder {
  color: var(--muted);
  opacity: 0.7;
}
input[type="date"] {
  color: var(--text-primary); /* Ensures entered text is dark */
}

input[type="text"]:focus, input[type="date"]:focus, textarea:focus, select:focus{
  outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgba(92,107,192,.2);
}
textarea{min-height:110px; resize:vertical; height: auto;}
select{-webkit-appearance:none; -moz-appearance:none; appearance:none; background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23666' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right 12px center; background-size:12px;}

.actions{display:flex; justify-content:flex-end; gap:15px;}
.action-btn{
  padding:12px 20px; border-radius:15px; border:none; cursor:pointer;
  font-weight:600; transition: all .3s ease;
  box-shadow:0 4px 10px rgba(0,0,0,.1)
}
.primary-btn{background:var(--accent); color:#fff;}
.primary-btn:hover{background:var(--accent-hover); transform:translateY(-2px);}
.secondary-btn{
  background: var(--glass-solid);
  color: var(--text-secondary);
  border:1px solid var(--glass-border);
}
.secondary-btn:hover{
  background: var(--accent-hover);
  color:#fff; transform:translateY(-2px);
  border-color: var(--accent-hover);
}

.modal{
  display:none; position:fixed; inset:0; z-index:1000; background:rgba(0,0,0,.4);
  align-items:center; justify-content:center;
}
.modal.open{display:flex}
.modal-content{
  background: var(--dropdown-bg);
  border:1px solid var(--glass-border);
  border-radius:20px; padding:30px; width:min(440px, 92vw);
  box-shadow:var(--shadow-hover); text-align:center
}
.modal-content h3{margin:0 0 20px}
.modal-actions{display:flex; gap:15px; justify-content:center}
.modal-btn{
  padding:10px 20px; border-radius:15px; border:none; font-weight:600; cursor:pointer; transition: all .3s ease
}
.modal-btn.primary{background:var(--accent); color:#fff}
.modal-btn.primary:hover{background:var(--accent-hover)}
.modal-btn.secondary{background:#eee; color:var(--text-secondary)}
body.dark-mode .modal-btn.secondary{background:#2b2b2b; color:#ddd}

@media print {
  body::before, .navbar, .actions, .modal { display: none; }
  body { background: #fff; }
  .main-content { margin: 0; padding: 0; }
  .report-form { gap: 15px; }
  .card { box-shadow: none; border: 1px solid #ccc; page-break-inside: avoid; }
  input[type="text"], input[type="date"], textarea, select {
    border: none; background: transparent; padding: 5px; border-bottom: 1px solid #ccc; border-radius: 0;
  }
}