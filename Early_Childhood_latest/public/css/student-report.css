@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap');

:root{
  --bg-image: url('../img/ECA_Background-2(Nes).jpg');
  --bg-overlay: rgba(252,246,233,.95);

  --text-primary: #000;
  --text-secondary: #333;
  --muted: #555;

  --glass-bg: rgba(255,255,240,.4);
  --glass-border: rgba(255,255,240,.5);
  --glass-solid: rgba(255,255,255,.86);

  --accent: #5c6bc0;
  --accent-hover: #4b5ab0;

  --shadow-subtle: 0 4px 15px rgba(0,0,0,.08);
  --shadow-hover: 0 8px 25px rgba(0,0,0,.12);
  --toggle-track: #b0b0b0;
  --toggle-thumb: #fff;
  --toggle-icon: #333;

  --pill-bg: #eef3ff;
  --pill-fg: #0b5fff;

  --dropdown-bg: #fff;
}

body.dark-mode{
  --bg-image: url('../img/ECA_Background-3(Nes).jpg');
  --bg-overlay: rgba(20,20,20,.9);

  --text-primary: #f5f5f5;
  --text-secondary: #b0b0b0;
  --muted: #a5a5a5;

  --glass-bg: rgba(40,40,40,.6);
  --glass-border: rgba(255,255,255,.2);
  --glass-solid: rgba(28,28,28,.9);

  --accent: #81c784;
  --accent-hover: #6cb06c;

  --shadow-subtle: 0 4px 15px rgba(0,0,0,.2);
  --shadow-hover: 0 8px 25px rgba(0,0,0,.3);
  --toggle-track: #555;
  --toggle-thumb: #333;
  --toggle-icon: #fff;

  --pill-bg: #1f2a1f;
  --pill-fg: #81c784;

  --dropdown-bg: #222;
}

html,body{
  margin:0; padding:0; min-height:100vh;
  font-family:'Poppins',sans-serif;
  color:var(--text-primary);
  background-image:var(--bg-image);
  background-position:center; background-repeat:no-repeat; background-size:cover;
  position:relative;
  display:flex; flex-direction:column;
}
body::before{
  content:""; position:fixed; inset:0;
  background:var(--bg-overlay);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index:-1;
}

.dashboard-container{display:flex; flex-direction:column; min-height:100vh;}
.main-content{
  max-width:1200px; width:100%; margin:32px auto; padding:0 20px;
  display:flex; flex-direction:column; gap:30px
}

.navbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 40px;
  background: var(--glass-bg);
  border-bottom:1px solid var(--glass-border);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: var(--shadow-subtle);
  position:sticky; top:0; z-index:5;
}
.navbar-left,.navbar-center{display:flex; align-items:center; gap:20px}
.navbar-right {
  display: flex;
  align-items: center;
  gap: 15px;
}
.navbar-left .logo{
  width:45px; height:auto; border-radius:50%; object-fit:cover;
  box-shadow:0 2px 10px rgba(0,0,0,.1)
}
.navbar-center{flex:1; justify-content:center}
.nav-links{display:flex; list-style:none; gap:25px; margin:0; padding:0}
.nav-links a{
  text-decoration:none; color:var(--text-secondary);
  padding:8px 15px; border-radius:20px; font-weight:500; transition: all .3s ease;
}
.nav-links a:hover{background:var(--glass-border); color:var(--text-primary)}
.nav-links a.active{background:var(--accent); color:#fff; font-weight:600}
.nav-links a.active:hover{background:var(--accent-hover)}

.logout-link{
  border:1px solid transparent; background:transparent; color:var(--text-secondary);
  padding:8px 15px; border-radius:20px; cursor:pointer; font-weight:500; transition: all .3s ease;
  font-weight: 500;
  color: var(--text-secondary);
}
.logout-link:hover{background:var(--glass-border); color:var(--text-primary)}

.theme-icon {
  font-size: 20px;
  color: var(--toggle-icon);
  transition: opacity .3s ease;
  opacity: 0.5;
}
body.light-mode .sun-icon, body.dark-mode .moon-icon {
  opacity: 1;
}

.theme-switch{
  position:relative; display:inline-block; width:50px; height:28px;
}
.theme-switch input{
  opacity:0; width:0; height:0;
}
.theme-switch .slider{
  position:absolute; cursor:pointer; inset:0;
  background:var(--toggle-track); transition:.4s; border-radius:28px;
}
.theme-switch .slider:before{
  position:absolute; content:""; height:20px; width:20px; left:4px; bottom:4px;
  background:var(--glass-solid); transition:.4s; border-radius:50%;
}
input:checked + .slider:before{
  transform:translateX(22px);
}

.card{
  background: var(--glass-bg);
  border:1px solid var(--glass-border);
  border-radius:20px;
  box-shadow: var(--shadow-subtle);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transition: transform .3s ease, box-shadow .3s ease;
  padding:25px
}
.card:hover{transform:translateY(-5px); box-shadow:var(--shadow-hover)}

.reports-layout {
  display: flex;
  gap: 30px;
  align-items: flex-start;
  margin-bottom: 40px;
}
.reports-panel {
  flex: 2 1 600px;
}
.recent-reports {
  flex: 1 1 320px;
  max-width: 360px;
  padding: 25px;
}

.page-title {
  margin: 0 0 10px;
  font-size: 28px;
  font-weight: 700;
  font-family: 'Montserrat', sans-serif;
}
.intro-text {
  font-size: 16px;
  font-weight: 500;
  color: var(--text-secondary);
  margin-bottom: 20px;
}
.filters {
  margin-bottom: 15px;
}
.filters input {
  width: 100%;
  padding: 12px 15px;
  border-radius: 15px;
  border: 1px solid var(--glass-border);
  background: var(--glass-bg);
  color: var(--text-primary);
  transition: all 0.3s ease;
  box-sizing: border-box;
}
.filters input:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(92, 107, 192, 0.2);
}

.recent-list {
  list-style: none;
  margin: 0;
  padding: 0;
}
.recent-item {
  padding: 12px 15px;
  border-bottom: 1px dashed var(--glass-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  transition: all .3s ease;
  cursor: pointer;
  border-radius: 10px;
}
.recent-item:hover {
  background: transparent;
  transform: translateY(-2px);
  box-shadow: var(--shadow-hover);
}
.recent-item:hover .meta, .recent-item:hover .time, .recent-item:hover .label {
  color: var(--text-primary);
}
.recent-item:hover .pill {
  background: var(--glass-solid);
  color: var(--accent);
}
.recent-item:hover .pill:hover {
  background: var(--accent);
  color: white;
}
.recent-item:last-child {
  border-bottom: 0;
}

.pill {
  background: var(--pill-bg);
  color: var(--pill-fg);
  border-radius: 999px;
  padding: 4px 10px;
  font-weight: 600;
  font-size: .85rem;
  white-space: nowrap;
  transition: all .3s ease;
}
.recent-item .meta {
  flex: 1;
  font-size: .92rem;
  color: var(--text-secondary);
}
.recent-item .meta .label {
  color: var(--muted);
}
.recent-item .meta .sep {
  color: var(--muted);
  margin: 0 6px;
}
.recent-item .meta span:first-child + * {
  font-weight: 600;
  color: var(--text-primary);
}
.recent-item .meta span:nth-child(3) + * {
  font-weight: 600;
  color: var(--text-primary);
}
.recent-item .time {
  font-size: .85rem;
  color: var(--muted);
  white-space: nowrap;
}

.btn-link {
  display: block;
  width: 100%;
  background: transparent;
  border: none;
  color: var(--accent);
  font-weight: 600;
  text-align: center;
  cursor: pointer;
  text-decoration: none;
  padding: 10px;
  border-radius: 15px;
  transition: all .3s ease;
}
.btn-link:hover {
  background: var(--glass-border);
  transform: translateY(-2px);
  box-shadow: var(--shadow-subtle);
}

.template-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(220px, 1fr));
  gap: 20px;
}
.template-card {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
  text-decoration: none;
  color: inherit;
  padding: 25px;
  box-shadow: var(--shadow-subtle);
  transition: transform .3s ease, box-shadow .3s ease, border-color .3s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}
.template-card:hover {
  transform: translateY(-5px);
  border-color: var(--accent);
  box-shadow: var(--shadow-hover);
}
.template-card .template-icon {
  font-size: 32px;
  margin-bottom: 10px;
  color: var(--accent);
}
.template-card h3 {
  font-family: 'Montserrat', sans-serif;
  margin: 8px 0 6px;
  font-size: 1.15rem;
  font-weight: 600;
}
.template-card p {
  margin: 0;
  font-size: .95rem;
  color: var(--text-secondary);
}

.modal {
  display: none; position: fixed; inset: 0; z-index: 1000;
  background: rgba(0,0,0,.4);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  align-items: center; justify-content: center;
}
.modal.open{display:flex}
.modal-content{
  background: var(--glass-bg);
  border:1px solid var(--glass-border);
  border-radius:20px; padding:30px; width:min(440px, 92vw);
  box-shadow:var(--shadow-hover);
  text-align:center;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: var(--text-primary);
}
.modal-content h3{margin:0 0 20px}
.modal-actions{display:flex; gap:15px; justify-content:center}
.modal-btn{
  padding:10px 20px; border-radius:15px; border:none; font-weight:600; cursor:pointer; transition: all .3s ease;
  box-shadow: var(--shadow-subtle);
}
.modal-btn.primary{background:var(--accent); color:#fff}
.modal-btn.primary:hover{background:var(--accent-hover); transform:translateY(-2px)}
.modal-btn.secondary{
  background:var(--glass-solid);
  color:var(--text-secondary);
  border:1px solid var(--glass-border);
}
.modal-btn.secondary:hover{
  background: var(--glass-border);
  color:var(--text-primary);
  transform:translateY(-2px);
  border-color: var(--accent);
}
body.dark-mode .modal-btn.secondary{
  background:var(--glass-solid);
  color:var(--text-secondary);
  border:1px solid var(--glass-border);
}
body.dark-mode .modal-btn.secondary:hover {
  background: var(--glass-border);
  color: var(--text-primary);
  border-color: var(--accent);
}

@media (max-width: 1200px) {
  .template-grid { grid-template-columns: repeat(2, minmax(220px, 1fr)); }
}
@media (max-width: 992px) {
  .navbar { flex-direction: column; gap: 15px; }
  .navbar-left, .navbar-right, .navbar-center { width: 100%; justify-content: center; }
  .main-content { padding: 30px 20px; }
  .reports-layout { flex-direction: column; }
  .recent-reports { max-width: 100%; }
}
@media (max-width: 768px) {
  .main-content { padding: 20px 15px; }
  .template-grid { grid-template-columns: 1fr; }
}
@media (max-width: 480px) {
  .navbar { padding: 10px 15px; }
  .nav-links { flex-wrap: wrap; justify-content: center; gap: 10px; }
  .reports-layout .recent-reports { padding: 20px; }
}
}