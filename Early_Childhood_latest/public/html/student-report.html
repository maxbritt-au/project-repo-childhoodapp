<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Report Templates</title>

  <!-- Reuse your existing dashboard look -->
  <link rel="stylesheet" href="../css/children-dashboard.css" />
  <!-- Page-specific styles for the template gallery -->
  <link rel="stylesheet" href="../css/student-report.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body class="light-mode">
  <div class="dashboard-container">
    <nav class="navbar">
      <div class="navbar-left">
        <!-- Safe default; navbar.js will overwrite href based on /api/me -->
        <a href="/html/teacher-dashboard.html" id="dashboardLogoLink" class="logo-link">
          <img src="../img/logo-2.png" alt="Logo" class="logo" />
        </a>
      </div>
      <div class="navbar-center">
        <ul class="nav-links">
          <li><a href="/html/teacher-dashboard.html" id="dashboardLink">Dashboard</a></li>
          <li><a href="/html/student-report.html" class="active">Reports</a></li>
          <li><a href="/children-dashboard">Child Dashboard</a></li>
        </ul>
      </div>
      <div class="navbar-right">
        <i class="fas fa-bell notification-icon"></i>
        <div class="theme-icons">
          <i class="fas fa-sun light-icon theme-toggle-btn"></i>
          <i class="fas fa-moon dark-icon theme-toggle-btn"></i>
        </div>
        <button id="open-logout-modal" class="logout-link">Logout</button>
      </div>
    </nav>

    <main class="main-content">
      <div class="wrap">
        <h1 class="page-title">Choose a Report Template</h1>
        <p class="intro-text">
          Select a report type below to quickly start documenting your observations and assessments for each child.
        </p>

        <div class="template-grid">
          <!-- Observation Report -->
          <a href="/html/observation-report.html" class="template-card" title="Record key observations from class or play activities.">
            <i class="fa-solid fa-eye template-icon"></i>
            <h3>Observation Report</h3>
            <p>Document key observations from class or play activities.</p>
          </a>

          <!-- Anecdotal Record -->
          <a href="/html/anecdotal-record.html" class="template-card" title="Capture brief, narrative notes of significant moments.">
            <i class="fa-solid fa-book-open template-icon"></i>
            <h3>Anecdotal Record</h3>
            <p>Capture brief, narrative notes of significant moments.</p>
          </a>

          <!-- Summative Assessment -->
          <a href="/html/summative-assessment.html" class="template-card" title="Summarise achievement against learning outcomes.">
            <i class="fa-solid fa-chart-line template-icon"></i>
            <h3>Summative Assessment</h3>
            <p>Summarise achievement against learning outcomes.</p>
          </a>
        </div>
      </div>
    </main>
  </div>

  <!-- Scripts -->
  <script defer src="../js/router.js"></script>
  <script defer src="../js/theme-toggle.js"></script>
  <script defer src="../js/navbar.js"></script>

  <!-- Auto-append ?childId=... to each template link if present -->
  <script>
    (function () {
      const params = new URLSearchParams(window.location.search);
      const childId = params.get('childId');
      if (!childId) return;
      document.querySelectorAll('.template-card[href]').forEach(a => {
        const url = new URL(a.getAttribute('href'), window.location.origin);
        url.searchParams.set('childId', childId);
        a.setAttribute('href', url.pathname + '?' + url.searchParams.toString());
      });
    })();
  </script>
</body>
</html>
